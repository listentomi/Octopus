CREATE TABLE "nesreca" (
	"id_nesreca" CHARACTER(6) NOT NULL  ,
	"klas_nesreca" CHARACTER(1) NOT NULL  ,
	"upravna_enota" CHARACTER(4) NOT NULL  ,
	"cas_nesreca" DATETIME NOT NULL  ,
	"naselje_ali_izven" CHARACTER(1) NOT NULL  ,
	"kategorija_cesta" CHARACTER(1) NULL  ,
	"oznaka_cesta_ali_naselje" CHARACTER(5) NOT NULL  ,
	"tekst_cesta_ali_naselje" VARCHAR(25) NOT NULL  ,
	"oznaka_odsek_ali_ulica" CHARACTER(5) NOT NULL  ,
	"tekst_odsek_ali_ulica" VARCHAR(25) NOT NULL  ,
	"stacionazna_ali_hisna_st" VARCHAR(9) NULL  ,
	"opis_prizorisce" CHARACTER(1) NOT NULL  ,
	"vzrok_nesreca" CHARACTER(2) NOT NULL  ,
	"tip_nesreca" CHARACTER(2) NOT NULL  ,
	"vreme_nesreca" CHARACTER(1) NOT NULL  ,
	"stanje_promet" CHARACTER(1) NOT NULL  ,
	"stanje_vozisce" CHARACTER(2) NOT NULL  ,
	"stanje_povrsina_vozisce" CHARACTER(2) NOT NULL  ,
	"x" INTEGER NULL  ,
	"y" INTEGER NULL  ,
	"x_wgs84" DOUBLE NULL  ,
	"y_wgs84" DOUBLE NULL  ,
	PRIMARY KEY ("id_nesreca"),
	FOREIGN KEY("upravna_enota") REFERENCES "upravna_enota" ("id_upravna_enota") ON UPDATE CASCADE ON DELETE CASCADE
);
CREATE TABLE "oseba" (
	"id_nesreca" CHARACTER(6) NOT NULL  ,
	"povzrocitelj_ali_udelezenec" CHARACTER(1) NULL  ,
	"starost" TINYINT NULL  ,
	"spol" CHARACTER(1) NOT NULL  ,
	"upravna_enota" CHARACTER(4) NOT NULL  ,
	"drzavljanstvo" CHARACTER(3) NOT NULL  ,
	"poskodba" CHARACTER(1) NULL  ,
	"vrsta_udelezenca" CHARACTER(2) NULL  ,
	"varnostni_pas_ali_celada" CHARACTER(1) NULL  ,
	"vozniski_staz_LL" TINYINT NULL  ,
	"vozniski_staz_MM" TINYINT NULL  ,
	"alkotest" DECIMAL NULL  ,
	"strokovni_pregled" DECIMAL NULL  ,
	"starost_d" CHARACTER(1) NULL  ,
	"vozniski_staz_d" CHARACTER(1) NOT NULL  ,
	"alkotest_d" CHARACTER(1) NOT NULL  ,
	"strokovni_pregled_d" CHARACTER(1) NOT NULL,
	FOREIGN KEY("id_nesreca") REFERENCES "nesreca" ("id_nesreca") ON UPDATE CASCADE ON DELETE CASCADE,
	FOREIGN KEY("upravna_enota") REFERENCES "upravna_enota" ("id_upravna_enota") ON UPDATE CASCADE ON DELETE CASCADE
);
CREATE TABLE "upravna_enota" (
	"id_upravna_enota" CHARACTER(4) NOT NULL  ,
	"ime_upravna_enota" VARCHAR(255) NOT NULL  ,
	"st_prebivalcev" INTEGER NULL  ,
	"povrsina" SMALLINT NULL  ,
	PRIMARY KEY ("id_upravna_enota")
);
